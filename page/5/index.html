<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Eirc Chang&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="~爱前端，爱生活~">
<meta property="og:type" content="website">
<meta property="og:title" content="Eirc Chang's Blog">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="Eirc Chang's Blog">
<meta property="og:description" content="~爱前端，爱生活~">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Eirc Chang's Blog">
<meta name="twitter:description" content="~爱前端，爱生活~">
  
    <link rel="alternative" href="/atom.xml" title="Eirc Chang&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">


	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/images/me.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/" style="font-family: Microsoft Yahei;">Eric Chang</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">归档</a></li>
				        
							<li><a href="/tags/feeling">感悟</a></li>
				        
							<li><a href="/tags/me">关于</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/changsiyuan" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/2803286360" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="mailto:changsiyuan2011@126.com" title="mail">mail</a>
					        
								<a class="linkedin" target="_blank" href="http://www.linkedin.com/profile/preview?locale=zh_CN&trk=prof-0-sb-preview-primary-button" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/Angularjs/" style="font-size: 11.25px;">Angularjs</a> <a href="/tags/JSONP/" style="font-size: 10px;">JSONP</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 18.75px;">JavaScript</a> <a href="/tags/Latex/" style="font-size: 10px;">Latex</a> <a href="/tags/Linkedlist/" style="font-size: 11.25px;">Linkedlist</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Operating-System/" style="font-size: 10px;">Operating System</a> <a href="/tags/RESTful/" style="font-size: 10px;">RESTful</a> <a href="/tags/Tree/" style="font-size: 11.25px;">Tree</a> <a href="/tags/Web/" style="font-size: 17.5px;">Web</a> <a href="/tags/books/" style="font-size: 10px;">books</a> <a href="/tags/computer/" style="font-size: 11.25px;">computer</a> <a href="/tags/cooking/" style="font-size: 10px;">cooking</a> <a href="/tags/css/" style="font-size: 12.5px;">css</a> <a href="/tags/datebase/" style="font-size: 13.75px;">datebase</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/feeling/" style="font-size: 15px;">feeling</a> <a href="/tags/git/" style="font-size: 11.25px;">git</a> <a href="/tags/glassfish/" style="font-size: 10px;">glassfish</a> <a href="/tags/hadoop/" style="font-size: 16.25px;">hadoop</a> <a href="/tags/hardware/" style="font-size: 10px;">hardware</a> <a href="/tags/hdfs/" style="font-size: 10px;">hdfs</a> <a href="/tags/html/" style="font-size: 11.25px;">html</a> <a href="/tags/html5/" style="font-size: 10px;">html5</a> <a href="/tags/jQuery/" style="font-size: 12.5px;">jQuery</a> <a href="/tags/javaEE/" style="font-size: 10px;">javaEE</a> <a href="/tags/log/" style="font-size: 10px;">log</a> <a href="/tags/mail/" style="font-size: 10px;">mail</a> <a href="/tags/mapreduce/" style="font-size: 13.75px;">mapreduce</a> <a href="/tags/me/" style="font-size: 10px;">me</a> <a href="/tags/network/" style="font-size: 10px;">network</a> <a href="/tags/node-js/" style="font-size: 10px;">node.js</a> <a href="/tags/others/" style="font-size: 11.25px;">others</a> <a href="/tags/psychology/" style="font-size: 11.25px;">psychology</a> <a href="/tags/publicity/" style="font-size: 10px;">publicity</a> <a href="/tags/selenium/" style="font-size: 10px;">selenium</a> <a href="/tags/translation/" style="font-size: 11.25px;">translation</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.ruanyifeng.com/home.html">阮一峰</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://es6.ruanyifeng.com/#README">ES6</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">MDN-JavaScript</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.uisdc.com/">优设网</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我叫常思源，毕业于北京邮电大学。专注前端开发事业。虽然在很多方面仍是小白，但我会不断努力哒~</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Eric Chang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/images/me.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Eric Chang</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">归档</a></li>
		        
					<li><a href="/tags/feeling">感悟</a></li>
		        
					<li><a href="/tags/me">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/changsiyuan" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/2803286360" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="mailto:changsiyuan2011@126.com" title="mail">mail</a>
			        
						<a class="linkedin" target="_blank" href="http://www.linkedin.com/profile/preview?locale=zh_CN&trk=prof-0-sb-preview-primary-button" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2015-11-5-java-queue" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/2015-11-5-java-queue/" class="article-date">
  	<time datetime="2015-11-04T16:00:00.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/2015-11-5-java-queue/">Java 队列的实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>队列是java中重要的数据结构；</li>
<li>本文用数组实现了简单的单端队列；</li>
</ul>
<h3 id="单端队列的实现">单端队列的实现</h3><ul>
<li>MyQueue类实现了队列的大部分方法</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">package queuetest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> MyQueue&lt;T&gt; &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> size = <span class="number">0</span>; <span class="comment">// 当前队列长度</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> maxSize = <span class="number">8</span>; <span class="comment">// 队列容量，默认8</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">protected</span> T[] <span class="built_in">queue</span> = (T[]) <span class="keyword">new</span> Object[maxSize]; <span class="comment">// 队列用数组实现</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyQueue</span><span class="params">(<span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.maxSize = maxSize;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 清空队列</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">queue</span> = (T[]) <span class="keyword">new</span> Object[maxSize];</span><br><span class="line">		size = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// add,如果队列已满，则抛出异常</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T t)</span> throws Exception </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size == maxSize) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"队列容量已满."</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">queue</span>[size] = t;</span><br><span class="line">			size++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// offer，添加一个元素并返回true，如果队列已满，则返回false</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">offer</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size &lt; maxSize) &#123;</span><br><span class="line">			<span class="built_in">queue</span>[size] = t;</span><br><span class="line">			size++;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// element,返回队列头部的元素,如果队列为空,则抛出异常</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">element</span><span class="params">()</span> throws Exception </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"队列为空！"</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">queue</span>[<span class="number">0</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// peek,返回队列头部的元素,如果队列为空，则返回null</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> null;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">queue</span>[<span class="number">0</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// remove,移除并返回队列头部的元素,如果队列为空则抛出异常</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">remove</span><span class="params">()</span> throws Exception </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size != <span class="number">0</span>) &#123;</span><br><span class="line">			T t = <span class="built_in">queue</span>[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">				<span class="built_in">queue</span>[i] = <span class="built_in">queue</span>[i + <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">queue</span>[size - <span class="number">1</span>] = null;</span><br><span class="line">			size--;</span><br><span class="line">			<span class="keyword">return</span> t;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"队列为空！"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// poll,移除并返问队列头部的元素,如果队列为空则返回null</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">poll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size != <span class="number">0</span>) &#123;</span><br><span class="line">			T t = <span class="built_in">queue</span>[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">				<span class="built_in">queue</span>[i] = <span class="built_in">queue</span>[i + <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">queue</span>[size - <span class="number">1</span>] = null;</span><br><span class="line">			size--;</span><br><span class="line">			<span class="keyword">return</span> t;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> null;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 当前队列长度</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> size;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 是否为空</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 遍历队列元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">			System.out.println(<span class="built_in">queue</span>[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>MyQueueTest 测试类</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> queuetest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class MyQueueTest &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		MyQueue&lt;<span class="keyword">String</span>&gt; mq = <span class="keyword">new</span> MyQueue&lt;<span class="keyword">String</span>&gt;(<span class="number">4</span>);</span><br><span class="line">		mq.<span class="built_in">add</span>(<span class="string">"111"</span>);</span><br><span class="line">		mq.<span class="built_in">add</span>(<span class="string">"222"</span>);</span><br><span class="line">		mq.<span class="built_in">add</span>(<span class="string">"333"</span>);</span><br><span class="line">		mq.<span class="built_in">add</span>(<span class="string">"444"</span>);</span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.<span class="built_in">size</span>());  <span class="comment">//4</span></span><br><span class="line"><span class="comment">//		mq.add("555");  //java.lang.Exception: 队列容量已满.</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.<span class="built_in">size</span>());  <span class="comment">//4</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.offer(<span class="string">"666"</span>));  <span class="comment">//false</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.<span class="built_in">size</span>());  <span class="comment">//4</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"-----------"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.element());  <span class="comment">//111</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.peek());  <span class="comment">//111</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"-----------"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.isEmpty());  <span class="comment">//false</span></span><br><span class="line">		mq.display();  <span class="comment">//111 222 333 444</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"-----------"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.remove());  <span class="comment">//111</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.remove());  <span class="comment">//222</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.remove());  <span class="comment">//333</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.remove());  <span class="comment">//444</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.<span class="built_in">size</span>());    <span class="comment">//0</span></span><br><span class="line"><span class="comment">//		System.out.println(mq.remove());  //java.lang.Exception: 队列为空！</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.poll());  <span class="comment">//null</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.<span class="built_in">size</span>());  <span class="comment">//0</span></span><br><span class="line"><span class="comment">//		System.out.println(mq.element());  //java.lang.Exception: 队列为空！</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mq.peek());  <span class="comment">//null</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-2015-11-4-HashMap-traverse" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/04/2015-11-4-HashMap-traverse/" class="article-date">
  	<time datetime="2015-11-03T16:00:00.000Z" itemprop="datePublished">2015-11-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/04/2015-11-4-HashMap-traverse/">Java HashMap的遍历</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>HashMap是java中非常重要的数据结构；</li>
<li>本文提供了HashMap的若干种遍历方法，大体上分为两类：<ul>
<li>通过Map.Entry遍历；</li>
<li>通过keyset遍历；</li>
</ul>
</li>
</ul>
<h3 id="HashMap遍历方法汇总">HashMap遍历方法汇总</h3><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.<span class="keyword">HashMap</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class MapTest &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		Map&lt;Integer, <span class="keyword">String</span>&gt; m = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;Integer, <span class="keyword">String</span>&gt;();</span><br><span class="line">		m.put(<span class="number">1</span>, <span class="string">"aaa"</span>);</span><br><span class="line">		m.put(<span class="number">2</span>, <span class="string">"bbb"</span>);</span><br><span class="line">		m.put(<span class="number">3</span>, <span class="string">"ccc"</span>);</span><br><span class="line">		m.put(<span class="number">4</span>, <span class="string">"ddd"</span>);</span><br><span class="line">		m.put(<span class="number">5</span>, <span class="string">"eee"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 遍历方法一</span></span><br><span class="line">		<span class="keyword">for</span> (Map.Entry&lt;Integer, <span class="keyword">String</span>&gt; entry : m.entrySet()) &#123;</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"key:"</span> + entry.getKey() + <span class="string">" value:"</span></span><br><span class="line">					+ entry.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"----------"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 遍历方法二</span></span><br><span class="line">		Iterator&lt;Entry&lt;Integer, <span class="keyword">String</span>&gt;&gt; it = m.entrySet().iterator();</span><br><span class="line">		<span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">			Map.Entry&lt;Integer, <span class="keyword">String</span>&gt; entry = it.next();</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"key:"</span> + entry.getKey() + <span class="string">" value:"</span></span><br><span class="line">					+ entry.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"----------"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 遍历方法三</span></span><br><span class="line">		Set&lt;Integer&gt; s = m.keySet();</span><br><span class="line">		Iterator&lt;Integer&gt; it1 = s.iterator();</span><br><span class="line">		<span class="keyword">while</span> (it1.hasNext()) &#123;</span><br><span class="line">			<span class="built_in">int</span> i = it1.next();</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"key:"</span> + i + <span class="string">" value:"</span></span><br><span class="line">					+ m.<span class="built_in">get</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历方法四</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="built_in">int</span> i : m.keySet())&#123;</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"key:"</span>+i+<span class="string">" value:"</span>+m.<span class="built_in">get</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历方法五  遍历所有的值  不能读取key</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">String</span> value:m.values())&#123;</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"value:"</span>+value);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-2015-11-4-java-HashMap" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/04/2015-11-4-java-HashMap/" class="article-date">
  	<time datetime="2015-11-03T16:00:00.000Z" itemprop="datePublished">2015-11-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/04/2015-11-4-java-HashMap/">Java HashMap的实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>Java中，HashMap是重要的数据结构；</li>
<li>HashMap用散列表实现，具体来说：<ul>
<li>HashMap底层维护一个数组充当哈希表；</li>
<li>当向HashMap中put一对键值时，它会根据key的hashCode值计算出一个位置，该位置就是此对象准备往数组中存放的位置，然后将key、value、next等值存放在Bucket中，作为Map.Entry；</li>
<li>如果有哈希值的冲突，即两组数据要放在数组的同一个位置(bucket)中，则用链表实现；</li>
<li>当从HashMap中get一个键值对时，HashMap会使用键对象的hashcode找到bucket位置，然后获取值对象；</li>
<li>如果数组的同一个位置对应多个键值对，将会遍历LinkedList，并调用keys.equals()方法去找到LinkedList中正确的节点，最终找到要找的值对象；</li>
</ul>
</li>
<li>本文实现了一个简单的HashMap；</li>
</ul>
<h3 id="HashMap具体实现">HashMap具体实现</h3><ul>
<li>Entry类，定义节点</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> MyHashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">	K k;</span><br><span class="line">	V v;</span><br><span class="line">	Entry&lt;K, V&gt; nextEntry = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Entry</span><span class="params">(K k, V v)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.k = k;</span><br><span class="line">		<span class="keyword">this</span>.v = v;</span><br><span class="line">		<span class="keyword">this</span>.nextEntry = <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNextEntry</span><span class="params">(Entry&lt;K, V&gt; e)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.nextEntry = e;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> Entry&lt;K, V&gt; getNextEntry() &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.nextEntry;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> Objects.hashCode(k) ^ Objects.hashCode(v);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"key:"</span> + k + <span class="string">" value:"</span> + v);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>MyHashMap类，实现HashMap大部分方法</li>
</ul>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line">package MyHashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> MyHashMap&lt;K, V&gt; &#123;</span><br><span class="line">	<span class="keyword">public</span> static <span class="keyword">final</span> <span class="built_in">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">protected</span> <span class="built_in">Entry</span>&lt;K, V&gt;[] <span class="built_in">entry</span> = new <span class="built_in">Entry</span>[DEFAULT_INITIAL_CAPACITY];</span><br><span class="line">	<span class="keyword">protected</span> <span class="built_in">int</span> <span class="built_in">size</span> = <span class="number">0</span>; // 记录hashmap大小</span><br><span class="line">	<span class="keyword">protected</span> <span class="built_in">int</span> bucketSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	// 清空hashmap</span><br><span class="line">	<span class="keyword">public</span> void clear() &#123;</span><br><span class="line">		<span class="built_in">entry</span> = new <span class="built_in">Entry</span>[DEFAULT_INITIAL_CAPACITY];</span><br><span class="line">		<span class="built_in">size</span> = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 检测数组大小</span><br><span class="line">	<span class="keyword">public</span> void testSize() &#123;</span><br><span class="line">		<span class="built_in">int</span> length = <span class="built_in">entry</span>.length;</span><br><span class="line">		<span class="keyword">if</span> (bucketSize &gt;= length / <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="built_in">Entry</span>&lt;K, V&gt;[] newEntry = new <span class="built_in">Entry</span>[length * <span class="number">2</span>];</span><br><span class="line">			System.arraycopy(<span class="built_in">entry</span>, <span class="number">0</span>, newEntry, <span class="number">0</span>, length);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 计算元素在数组中的位置</span><br><span class="line">	<span class="keyword">public</span> static <span class="built_in">int</span> indexFor(<span class="built_in">int</span> h, <span class="built_in">int</span> <span class="built_in">size</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> h % (<span class="built_in">size</span> - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 是否含有特定key</span><br><span class="line">	<span class="keyword">public</span> boolean containsKey(K k) &#123;</span><br><span class="line">		<span class="built_in">int</span> <span class="built_in">index</span> = indexFor(k.hashCode(), <span class="built_in">entry</span>.length);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">entry</span>[<span class="built_in">index</span>]<span class="comment">!=null)&#123;</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">entry</span>[<span class="built_in">index</span>].k.equals(k))&#123;</span><br><span class="line">				<span class="keyword">return</span> true;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="built_in">Entry</span>&lt;K,V&gt; e = <span class="built_in">entry</span>[<span class="built_in">index</span>].nextEntry;</span><br><span class="line">				<span class="keyword">while</span>(e<span class="comment">!=null)&#123;</span></span><br><span class="line">					<span class="keyword">if</span>(e.k.equals(k))&#123;</span><br><span class="line">						<span class="keyword">return</span> true;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> false;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 是否包含特定<span class="keyword">value</span>值</span><br><span class="line">	<span class="keyword">public</span> boolean containsValue(V v) &#123;</span><br><span class="line">		for (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">entry</span>.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">entry</span>[i] <span class="comment">!= null) &#123;</span></span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">entry</span>[i].v.equals(v)) &#123;</span><br><span class="line">					<span class="keyword">return</span> true;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (<span class="built_in">entry</span>[i].nextEntry <span class="comment">!= null) &#123;</span></span><br><span class="line">						<span class="built_in">Entry</span>&lt;K, V&gt; e = <span class="built_in">entry</span>[i];</span><br><span class="line">						<span class="keyword">while</span> (e <span class="comment">!= null) &#123;</span></span><br><span class="line">							<span class="keyword">if</span> (e.v.equals(v)) &#123;</span><br><span class="line">								<span class="keyword">return</span> true;</span><br><span class="line">							&#125;</span><br><span class="line">							e = e.nextEntry;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> false;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 获取特定key的<span class="keyword">value</span>值</span><br><span class="line">	<span class="keyword">public</span> V get(K k) &#123;</span><br><span class="line">		<span class="built_in">int</span> <span class="built_in">index</span> = indexFor(k.hashCode(), <span class="built_in">entry</span>.length);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">entry</span>[<span class="built_in">index</span>]<span class="comment">!=null)&#123;</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">entry</span>[<span class="built_in">index</span>].k.equals(k))&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="built_in">entry</span>[<span class="built_in">index</span>].v;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="built_in">Entry</span>&lt;K,V&gt; e = <span class="built_in">entry</span>[<span class="built_in">index</span>].nextEntry;</span><br><span class="line">				<span class="keyword">while</span>(e<span class="comment">!=null)&#123;</span></span><br><span class="line">					<span class="keyword">if</span>(e.k.equals(k))&#123;</span><br><span class="line">						<span class="keyword">return</span> e.v;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> null;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 插入数据</span><br><span class="line">	<span class="keyword">public</span> void put(K k, V v) &#123;</span><br><span class="line">		testSize();</span><br><span class="line">		<span class="built_in">int</span> <span class="built_in">index</span> = indexFor(k.hashCode(), <span class="built_in">entry</span>.length); // 计算这个元素在数组中的位置</span><br><span class="line"></span><br><span class="line">		<span class="built_in">Entry</span>&lt;K, V&gt; e = new <span class="built_in">Entry</span>&lt;K, V&gt;(k, v);</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">entry</span>[<span class="built_in">index</span>] == null) &#123;</span><br><span class="line">			<span class="built_in">entry</span>[<span class="built_in">index</span>] = e;</span><br><span class="line">			bucketSize++;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">Entry</span>&lt;K, V&gt; ee = <span class="built_in">entry</span>[<span class="built_in">index</span>];</span><br><span class="line">			ee.setNextEntry(e);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">size</span>++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 删除数据</span><br><span class="line">	<span class="keyword">public</span> void remove(K k) &#123;</span><br><span class="line">		<span class="built_in">int</span> <span class="built_in">index</span> = indexFor(k.hashCode(), <span class="built_in">entry</span>.length);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">entry</span>[<span class="built_in">index</span>]<span class="comment">!=null)&#123;</span></span><br><span class="line">			<span class="built_in">Entry</span>&lt;K,V&gt; e = <span class="built_in">entry</span>[<span class="built_in">index</span>];</span><br><span class="line">			<span class="keyword">if</span> (e.nextEntry == null) &#123;</span><br><span class="line">				<span class="keyword">if</span> (e.k.equals(k)) &#123;</span><br><span class="line">					<span class="built_in">entry</span>[<span class="built_in">index</span>] = null;</span><br><span class="line">					bucketSize--;</span><br><span class="line">					<span class="built_in">size</span>--;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (e.k.equals(k)) &#123;</span><br><span class="line">					<span class="built_in">entry</span>[<span class="built_in">index</span>] = e.nextEntry;</span><br><span class="line">					<span class="built_in">size</span>--;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="built_in">Entry</span>&lt;K, V&gt; previous = e;</span><br><span class="line">					<span class="built_in">Entry</span>&lt;K, V&gt; current = e.nextEntry;</span><br><span class="line">					<span class="keyword">while</span> (current <span class="comment">!= null) &#123;</span></span><br><span class="line">						<span class="keyword">if</span> (current.k.equals(k)) &#123;</span><br><span class="line">							previous.nextEntry = current.nextEntry;</span><br><span class="line">							<span class="built_in">size</span>--;</span><br><span class="line">							break;</span><br><span class="line">						&#125;</span><br><span class="line">						previous = current;</span><br><span class="line">						current = current.getNextEntry();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 判断是否为空</span><br><span class="line">	<span class="keyword">public</span> boolean isEmpty() &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">size</span> == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 获取长度</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">int</span> <span class="built_in">size</span>() &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">size</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 遍历输出</span><br><span class="line">	<span class="keyword">public</span> void diaplayAll() &#123;</span><br><span class="line">		for (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">entry</span>.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">entry</span>[i] <span class="comment">!= null) &#123;</span></span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">entry</span>[i].nextEntry <span class="comment">!= null) &#123;</span></span><br><span class="line">					<span class="built_in">Entry</span>&lt;K, V&gt; e = <span class="built_in">entry</span>[i];</span><br><span class="line">					<span class="keyword">while</span> (e <span class="comment">!= null) &#123;</span></span><br><span class="line">						e.display();</span><br><span class="line">						e = e.nextEntry;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="built_in">entry</span>[i].display();</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>TestMyHashMap测试类</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> MyHashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class TestMyHashMap &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		MyHashMap&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; mhm = <span class="keyword">new</span> MyHashMap&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt;();</span><br><span class="line">		mhm.put(<span class="string">"1"</span>, <span class="string">"111"</span>);</span><br><span class="line">		mhm.put(<span class="string">"2"</span>, <span class="string">"222"</span>);</span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.<span class="built_in">size</span>());  <span class="comment">//2</span></span><br><span class="line">		mhm.<span class="built_in">clear</span>();</span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.isEmpty());  <span class="comment">//true</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"-------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mhm.put(<span class="string">"1"</span>, <span class="string">"aaa"</span>);</span><br><span class="line">		mhm.put(<span class="string">"6"</span>, <span class="string">"fff"</span>);</span><br><span class="line">		mhm.put(<span class="string">"2"</span>, <span class="string">"bbb"</span>);</span><br><span class="line">		mhm.put(<span class="string">"5"</span>, <span class="string">"eee"</span>);</span><br><span class="line">		mhm.put(<span class="string">"4"</span>, <span class="string">"ddd"</span>);</span><br><span class="line">		mhm.put(<span class="string">"3"</span>, <span class="string">"ccc"</span>);</span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.<span class="built_in">size</span>());  <span class="comment">//6</span></span><br><span class="line">		mhm.remove(<span class="string">"2"</span>);</span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.<span class="built_in">size</span>());  <span class="comment">//5</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.containsKey(<span class="string">"5"</span>));  <span class="comment">//true</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.containsKey(<span class="string">"2"</span>));  <span class="comment">//false</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.containsKey(<span class="string">"3"</span>));  <span class="comment">//true</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.containsValue(<span class="string">"ccc"</span>));  <span class="comment">//true</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.containsValue(<span class="string">"ggg"</span>));  <span class="comment">//false</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.<span class="built_in">get</span>(<span class="string">"6"</span>));  <span class="comment">//fff </span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.<span class="built_in">get</span>(<span class="string">"5"</span>));  <span class="comment">//eee</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.<span class="built_in">get</span>(<span class="string">"2"</span>));  <span class="comment">//null</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mhm.isEmpty());  <span class="comment">//false</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"-------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mhm.diaplayAll();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-2015-11-4-java-Stack" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/04/2015-11-4-java-Stack/" class="article-date">
  	<time datetime="2015-11-03T16:00:00.000Z" itemprop="datePublished">2015-11-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/04/2015-11-4-java-Stack/">Java Stack的实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>Stack是java中常用的数据结构；</li>
<li>栈遵循先进后出，后进先出；</li>
<li>本文实现了一个简单的栈；</li>
</ul>
<h3 id="栈的实现">栈的实现</h3><ul>
<li>MyStack实现了栈的大部分方法</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">package test6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> MyStack&lt;T&gt; &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> final <span class="keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">16</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> size = <span class="number">0</span>; <span class="comment">// 栈大小</span></span><br><span class="line">	<span class="keyword">protected</span> T[] <span class="built_in">stack</span> = (T[]) <span class="keyword">new</span> Object[DEFAULT_INITIAL_CAPACITY];</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 清空栈</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">stack</span> = (T[]) <span class="keyword">new</span> Object[DEFAULT_INITIAL_CAPACITY];</span><br><span class="line">		size = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 判断容量</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCapacity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size &gt;= <span class="built_in">stack</span>.length) &#123;</span><br><span class="line">			T[] stack1 = (T[]) <span class="keyword">new</span> Object[<span class="built_in">stack</span>.length * <span class="number">2</span>];</span><br><span class="line">			System.arraycopy(<span class="built_in">stack</span>, <span class="number">0</span>, stack1, <span class="number">0</span>, <span class="built_in">stack</span>.length);</span><br><span class="line">			<span class="built_in">stack</span> = stack1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 判断是否为空</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Looks at the object at the top of this stack without removing it from the</span></span><br><span class="line">	<span class="comment">// stack</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">stack</span>[size - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 压入数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">		testCapacity();</span><br><span class="line">		<span class="built_in">stack</span>[size] = t;</span><br><span class="line">		size++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 弹出数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		T t = <span class="built_in">stack</span>[size - <span class="number">1</span>];</span><br><span class="line">		size--;</span><br><span class="line">		<span class="keyword">return</span> t;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Returns the 1-based position where an object is on this stack</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(T t)</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i =size-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">stack</span>[i].equals(t))&#123;</span><br><span class="line">				<span class="keyword">return</span> size-i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//获取容量</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> size;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>TestMyStack测试类</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> TestMyStack &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">		MyStack&lt;String&gt; s = <span class="keyword">new</span> MyStack&lt;String&gt;();</span><br><span class="line">		s.<span class="keyword">push</span>(<span class="string">"111"</span>);</span><br><span class="line">		s.<span class="keyword">push</span>(<span class="string">"222"</span>);</span><br><span class="line">		System.out.<span class="keyword">println</span>(s.<span class="keyword">size</span>());  <span class="comment">//2</span></span><br><span class="line">		s.clear();</span><br><span class="line">		System.out.<span class="keyword">println</span>(s.<span class="keyword">size</span>());  <span class="comment">//0</span></span><br><span class="line">		System.out.<span class="keyword">println</span>(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		s.<span class="keyword">push</span>(<span class="string">"aaa"</span>);</span><br><span class="line">		s.<span class="keyword">push</span>(<span class="string">"bbb"</span>);</span><br><span class="line">		s.<span class="keyword">push</span>(<span class="string">"ccc"</span>);</span><br><span class="line">		s.<span class="keyword">push</span>(<span class="string">"ddd"</span>);</span><br><span class="line">		System.out.<span class="keyword">println</span>(s.<span class="keyword">size</span>());  <span class="comment">//4</span></span><br><span class="line">		System.out.<span class="keyword">println</span>(s.isEmpty());  <span class="comment">//false</span></span><br><span class="line">		System.out.<span class="keyword">println</span>(s.search(<span class="string">"ccc"</span>));  <span class="comment">//2</span></span><br><span class="line">		System.out.<span class="keyword">println</span>(s.peek());  <span class="comment">//ddd</span></span><br><span class="line">		System.out.<span class="keyword">println</span>(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		s.<span class="keyword">pop</span>();</span><br><span class="line">		System.out.<span class="keyword">println</span>(s.peek());  <span class="comment">//ccc</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-2015-11-3-java-ArrayList" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/03/2015-11-3-java-ArrayList/" class="article-date">
  	<time datetime="2015-11-02T16:00:00.000Z" itemprop="datePublished">2015-11-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/03/2015-11-3-java-ArrayList/">Java ArrayList的实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>Java中，ArrayList是重要的数据结构；</li>
<li>ArrayList用数组实现；</li>
<li>本文实现了一个简单的ArrayList；</li>
</ul>
<h3 id="具体实现">具体实现</h3><ul>
<li>MyArrayList 完成大部分方法实现</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">package arraylisttest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> MyArrayList&lt;T&gt; &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> final <span class="keyword">int</span> initialSize = <span class="number">16</span>;</span><br><span class="line">	Object[] <span class="built_in">array</span> = <span class="keyword">new</span> Object[initialSize];</span><br><span class="line">	T[] myArray = (T[]) <span class="built_in">array</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> size = <span class="number">0</span>; <span class="comment">// 数组长度</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyArrayList</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 删除全部元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">array</span> = <span class="keyword">new</span> Object[initialSize];</span><br><span class="line">		myArray = (T[]) <span class="built_in">array</span>;</span><br><span class="line">		size = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 检测数组空间是否充足</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (size &gt; (<span class="keyword">int</span>) (myArray.length / <span class="number">2</span>)) &#123;</span><br><span class="line">			Object[] newArray = <span class="keyword">new</span> Object[<span class="built_in">array</span>.length * <span class="number">2</span>];</span><br><span class="line">			T[] newMyArray = (T[]) newArray;</span><br><span class="line">			System.arraycopy(<span class="built_in">array</span>, <span class="number">0</span>, newMyArray, <span class="number">0</span>, myArray.length);</span><br><span class="line">			myArray = newMyArray; <span class="comment">// 新数组的引用赋值给原数组变量名，原数组的堆中的存储空间失去引用，交给垃圾回收处理</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 在末尾增加元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">		ensureCapacity();</span><br><span class="line">		myArray[size] = data;</span><br><span class="line">		size++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 在特定位置增加元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T data, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		ensureCapacity();</span><br><span class="line">		T temp = null;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; myArray.length; i++) &#123;</span><br><span class="line">			temp = myArray[i];</span><br><span class="line">			myArray[i] = data;</span><br><span class="line">			data = temp;</span><br><span class="line">		&#125;</span><br><span class="line">		size++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 检测是否存在元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">contains</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (myArray[i].equals(data)) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取特定元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> myArray[index];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取特定元素的索引值</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (myArray[i].equals(data)) &#123;</span><br><span class="line">				<span class="keyword">return</span> i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//获取元素最后一次出现的索引值</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(T data)</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span> (myArray[i].equals(data)) &#123;</span><br><span class="line">				index = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> index;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 判断是否为空</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 移除特定索引的元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(index&lt;size)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i =index+<span class="number">1</span>; i&lt;size; i++)&#123;</span><br><span class="line">				myArray[i-<span class="number">1</span>]=myArray[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		size--;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//移除特定元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(T data)</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">		boolean match = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(myArray[i].equals(data))&#123;</span><br><span class="line">				index = i;</span><br><span class="line">				match = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!match)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i =index+<span class="number">1</span>; i&lt;size; i++)&#123;</span><br><span class="line">				myArray[i-<span class="number">1</span>]=myArray[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		size--;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//替换对应元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(T data, <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(index&lt;size)&#123;</span><br><span class="line">			myArray[index] = data;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//显示全部元素</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">displayAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">			System.out.print(myArray[i]+<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.print(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>MyArrayListTest 测试类</li>
</ul>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">package arraylisttest;</span><br><span class="line"></span><br><span class="line">public <span class="keyword">class</span> MyArrayListTest &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] <span class="keyword">args</span>) &#123;</span><br><span class="line">		MyArrayList&lt;String&gt; <span class="keyword">list</span> = new MyArrayList&lt;String&gt;();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"111"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"222"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"333"</span>);</span><br><span class="line">		<span class="keyword">list</span>.displayAll();</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"test"</span>, 1);</span><br><span class="line">		<span class="keyword">list</span>.displayAll();</span><br><span class="line">		<span class="keyword">list</span>.<span class="keyword">clear</span>();</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.isEmpty()); <span class="comment">//true</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"aaa"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"bbb"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"aaa"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"ccc"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"eee"</span>);</span><br><span class="line">		<span class="keyword">list</span>.add(<span class="string">"ddd"</span>);</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.contains(<span class="string">"ccc"</span>));  <span class="comment">//true</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.contains(<span class="string">"sss"</span>));  <span class="comment">//false</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.<span class="literal">get</span>(2));  <span class="comment">//aaa</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.indexOf(<span class="string">"aaa"</span>)); <span class="comment">//0</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.lastIndexOf(<span class="string">"aaa"</span>));  <span class="comment">//2</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.indexOf(<span class="string">"ddd"</span>)); <span class="comment">//5</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="keyword">list</span>.isEmpty());  <span class="comment">//false</span></span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">list</span>.displayAll();</span><br><span class="line">		<span class="keyword">list</span>.remove(1);</span><br><span class="line">		<span class="keyword">list</span>.remove(<span class="string">"ddd"</span>);</span><br><span class="line">		<span class="keyword">list</span>.displayAll();</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"----------"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">list</span>.<span class="keyword">set</span>(<span class="string">"bbb"</span>,1);</span><br><span class="line">		<span class="keyword">list</span>.displayAll();</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"----------"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-2015-11-3-java-LinkedList" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/03/2015-11-3-java-LinkedList/" class="article-date">
  	<time datetime="2015-11-02T16:00:00.000Z" itemprop="datePublished">2015-11-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/03/2015-11-3-java-LinkedList/">Java LinkedList的实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>Java中，LinkedList是重要的数据结构；</li>
<li>LinkedList用链表实现，每个节点不仅保存本节点的数据，还保存下个节点的引用；</li>
<li>本文实现了一个简单的LinkedList；</li>
</ul>
<h3 id="LinkedList具体实现">LinkedList具体实现</h3><ul>
<li>Node类，定义节点</li>
</ul>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package linkedtest;</span><br><span class="line"></span><br><span class="line">public class <span class="keyword">Node</span><span class="identifier"></span><span class="title">&lt;T</span>&gt; &#123;</span><br><span class="line">	protected <span class="keyword">Node</span><span class="identifier"></span><span class="title">&lt;T</span>&gt; next;</span><br><span class="line">	protected T data;</span><br><span class="line"></span><br><span class="line">	public <span class="keyword">Node</span><span class="identifier"></span><span class="title">(T</span> data) &#123;</span><br><span class="line">		this.data = data;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void display() &#123;</span><br><span class="line">		System.out.println(data + <span class="string">" "</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>MyLinkedList 具体实现类</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> linkedtest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> MyLinkedList&lt;T&gt; &#123;</span><br><span class="line">	<span class="keyword">protected</span> Node&lt;T&gt; first; <span class="comment">// 存储首元素</span></span><br><span class="line">	<span class="keyword">protected</span> Node&lt;T&gt; last; <span class="comment">// 存储末尾元素</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">int</span> point = <span class="number">0</span>; <span class="comment">// 存储当前指针</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">int</span> <span class="keyword">size</span> = <span class="number">0</span>; <span class="comment">// 存储链表大小</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 构造器</span></span><br><span class="line">	<span class="keyword">public</span> MyLinkedList() &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 清空链表</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> clear() &#123;</span><br><span class="line">		first = <span class="keyword">null</span>;</span><br><span class="line">		last = <span class="keyword">null</span>;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">size</span> = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素到末尾</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> add(T data) &#123;</span><br><span class="line">		Node&lt;T&gt; node = <span class="keyword">new</span> Node&lt;T&gt;(data);</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">size</span> == <span class="number">0</span>) &#123;</span><br><span class="line">			first = node;</span><br><span class="line">			first.<span class="keyword">next</span> = <span class="keyword">null</span>;</span><br><span class="line">			last = node;</span><br><span class="line">			last.<span class="keyword">next</span> = <span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">size</span>++;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			last.<span class="keyword">next</span> = node;</span><br><span class="line">			last = node;</span><br><span class="line">			<span class="keyword">size</span>++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素到特定位置</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> add(T data, <span class="keyword">int</span> index) &#123;</span><br><span class="line">		Node&lt;T&gt; node = <span class="keyword">new</span> Node&lt;T&gt;(data);</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line">		<span class="keyword">while</span> (point != index) &#123;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">previous</span>.<span class="keyword">next</span> = node;</span><br><span class="line">		node.<span class="keyword">next</span> = current;</span><br><span class="line">		<span class="keyword">size</span>++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素到list首部</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> addFirst(T data) &#123;</span><br><span class="line">		Node&lt;T&gt; node = <span class="keyword">new</span> Node&lt;T&gt;(data);</span><br><span class="line">		node.<span class="keyword">next</span> = first;</span><br><span class="line">		first = node;</span><br><span class="line">		<span class="keyword">size</span>++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 是否包含元素</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">boolean</span> contains(T data) &#123;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line">		<span class="keyword">while</span> (point &lt; <span class="keyword">size</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (current.data.equals(data)) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取特定位置元素</span></span><br><span class="line">	<span class="keyword">public</span> T get(<span class="keyword">int</span> index) &#123;</span><br><span class="line">		<span class="keyword">if</span> (index &gt;= <span class="keyword">size</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> (point != index) &#123;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> current.data;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取首元素</span></span><br><span class="line">	<span class="keyword">public</span> T getFirst() &#123;</span><br><span class="line">		<span class="keyword">return</span> first.data;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取尾元素</span></span><br><span class="line">	<span class="keyword">public</span> T getLast() &#123;</span><br><span class="line">		<span class="keyword">return</span> last.data;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取元素位置</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> indexOf(T data) &#123;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line">		<span class="keyword">while</span> (point &lt; <span class="keyword">size</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (current.data.equals(data)) &#123;</span><br><span class="line">				<span class="keyword">return</span> point;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 反向获取元素位置</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> lastIndexOf(T data) &#123;</span><br><span class="line">		<span class="keyword">int</span> size1 = <span class="keyword">size</span>;</span><br><span class="line">		<span class="keyword">int</span> point1 = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (size1 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">			Node&lt;T&gt; current = first;</span><br><span class="line">			<span class="keyword">while</span> (point1 &lt; size1 - <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">previous</span> = current;</span><br><span class="line">				current = current.<span class="keyword">next</span>;</span><br><span class="line">				point1++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (current.data.equals(data)) &#123;</span><br><span class="line">				<span class="keyword">return</span> size1 - <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				size1--;</span><br><span class="line">				point1 = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 删除特定位置元素</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> remove(<span class="keyword">int</span> index) &#123;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line">		<span class="keyword">while</span> (point &lt; <span class="keyword">size</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (point == index) &#123;</span><br><span class="line">				<span class="keyword">previous</span>.<span class="keyword">next</span> = current.<span class="keyword">next</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">size</span>--;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 删除特定元素</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> remove(T data) &#123;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line">		<span class="keyword">while</span> (point &lt; <span class="keyword">size</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (current.data.equals(data)) &#123;</span><br><span class="line">				<span class="keyword">previous</span>.<span class="keyword">next</span> = current.<span class="keyword">next</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">size</span>--;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 删除第一个元素</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> removeFirst() &#123;</span><br><span class="line">		first = first.<span class="keyword">next</span>;</span><br><span class="line">		<span class="keyword">size</span>--;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 删除最后一个元素</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> removeLast() &#123;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; <span class="keyword">previous</span> = first;</span><br><span class="line">		Node&lt;T&gt; current = first;</span><br><span class="line">		<span class="keyword">while</span> (point &lt; <span class="keyword">size</span>) &#123;</span><br><span class="line">			<span class="keyword">previous</span> = current;</span><br><span class="line">			current = current.<span class="keyword">next</span>;</span><br><span class="line">			<span class="keyword">if</span> (point == <span class="keyword">size</span> - <span class="number">1</span>) &#123;</span><br><span class="line">				last = <span class="keyword">previous</span>;</span><br><span class="line">				last.<span class="keyword">next</span> = <span class="keyword">null</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">size</span>--;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 是否为空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">boolean</span> isEmpty() &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">size</span> == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//返回list大小</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> <span class="keyword">size</span>()&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">size</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//遍历输出list</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> displayAll()&#123;</span><br><span class="line">		point = <span class="number">0</span>;</span><br><span class="line">		Node&lt;T&gt; node = first;</span><br><span class="line">		<span class="keyword">while</span>(point&lt;<span class="keyword">size</span>)&#123;</span><br><span class="line">			node.display();</span><br><span class="line">			node = node.<span class="keyword">next</span>;</span><br><span class="line">			point++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>TestMyLinkedList 测试类</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> linkedtest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class TestMyLinkedList &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		MyLinkedList&lt;<span class="keyword">String</span>&gt; mlist = <span class="keyword">new</span> MyLinkedList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"111"</span>);</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"222"</span>);</span><br><span class="line">		mlist.displayAll();</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mlist.<span class="built_in">clear</span>();</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"aaa"</span>);</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"bbb"</span>);</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"ddd"</span>);</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"ccc"</span>);</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"aaa"</span>);</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"eee"</span>);</span><br><span class="line">		mlist.displayAll();</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mlist.<span class="built_in">add</span>(<span class="string">"sss"</span>, <span class="number">3</span>);</span><br><span class="line">		mlist.displayAll();</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mlist.addFirst(<span class="string">"000"</span>);</span><br><span class="line">		mlist.displayAll();</span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">size</span>());  <span class="comment">//8</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.contains(<span class="string">"bbb"</span>));  <span class="comment">//true</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">get</span>(<span class="number">0</span>));  <span class="comment">//000</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">get</span>(<span class="number">1</span>));  <span class="comment">//aaa</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">get</span>(<span class="number">5</span>));  <span class="comment">//ccc</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">get</span>(<span class="number">8</span>));  <span class="comment">//null</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.getFirst());  <span class="comment">//000</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.getLast());  <span class="comment">//eee</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.indexOf(<span class="string">"sss"</span>));  <span class="comment">//4</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.indexOf(<span class="string">"aaa"</span>));  <span class="comment">//1</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.lastIndexOf(<span class="string">"aaa"</span>));  <span class="comment">//6</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mlist.remove(<span class="number">2</span>);</span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">size</span>());</span><br><span class="line">		mlist.remove(<span class="string">"ddd"</span>);</span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">size</span>());</span><br><span class="line">		mlist.displayAll();</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		mlist.removeFirst();</span><br><span class="line">		mlist.removeLast();</span><br><span class="line">		mlist.displayAll();</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"------------"</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.isEmpty());  <span class="comment">//false</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(mlist.<span class="built_in">size</span>());  <span class="comment">//4</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-2015-11-2-js-string" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/02/2015-11-2-js-string/" class="article-date">
  	<time datetime="2015-11-01T16:00:00.000Z" itemprop="datePublished">2015-11-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/02/2015-11-2-js-string/">javascript字符串操作</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>字符串操作是js中常见的操作；</li>
<li>本文总结了js中常见的字符串操作；</li>
</ul>
<h3 id="常见字符串操作">常见字符串操作</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">"aaa"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"bbb"</span>;</span><br><span class="line"><span class="keyword">var</span> str3 = <span class="string">"ccc"</span>;</span><br><span class="line"><span class="keyword">var</span> str4 = <span class="string">"aaabbbccc"</span>;</span><br><span class="line"><span class="keyword">var</span> str5=<span class="string">"Hello world!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串长度</span></span><br><span class="line"><span class="built_in">document</span>.write(str1.length +<span class="string">"&lt;br&gt;"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//大小写转换</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.toLowerCase() +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">//hello world!</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.toUpperCase() +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">//HELLO WORLD!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//连接两个字符串</span></span><br><span class="line"><span class="built_in">document</span>.write(str1.concat(str2) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">//aaabbb</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回字符串中一个子串第一处出现的索引。如果没有匹配项，返回 -1 </span></span><br><span class="line"><span class="built_in">document</span>.write(str4.indexOf(<span class="string">"b"</span>) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.indexOf(<span class="string">"c"</span>) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">// 6</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.indexOf(<span class="string">"ab"</span>) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回字符串中一个子串最后一处出现的索引，如果没有匹配项，返回 -1</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.lastIndexOf(<span class="string">"b"</span>) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回指定位置的字符</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.charAt(<span class="number">2</span>) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">// a</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.charAt(<span class="number">7</span>) +<span class="string">"&lt;br&gt;"</span>)  <span class="comment">// c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 match() 来检索一个字符串</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.match(<span class="string">"world"</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// world</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.match(<span class="string">"World"</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// null</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.match(<span class="string">"worlld"</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// null</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.match(<span class="string">"world!"</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// world!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 match() 来检索一个正则表达式的匹配</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.match(<span class="regexp">/a*b/</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// aaab</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回字符串的一个子串,传入参数是起始位置和结束位置</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.substring(<span class="number">0</span>,<span class="number">5</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">//aaabb</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//slice() 方法可提取字符串的某个部分，并以新的字符串返回被提取的部分</span></span><br><span class="line"><span class="comment">//stringObject.slice(start,end)</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.slice(<span class="number">1</span>,<span class="number">4</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// aab</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//替换部分字符串，stringObject.replace(regexp/substr,replacement)</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.replace(<span class="string">"aaab"</span>,<span class="string">"ccc"</span>) + <span class="string">"&lt;br /&gt;"</span>) <span class="comment">//cccbbccc</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.replace(<span class="regexp">/a*b/</span>,<span class="string">"ccc"</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">//cccbbccc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//search() 方法用于检索字符串中指定的子字符串,或检索与正则表达式相匹配的子字符串</span></span><br><span class="line"><span class="comment">//stringObject.search(regexp)</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.search(<span class="regexp">/a*b/</span>) + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.search(<span class="regexp">/b*c/</span>) + <span class="string">"&lt;br /&gt;"</span>) <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">document</span>.write(str4.search(<span class="regexp">/.*d/</span>) + <span class="string">"&lt;br /&gt;"</span>) <span class="comment">// -1(无匹配)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过将字符串划分成子串，将一个字符串做成一个字符串数组</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.split(<span class="string">" "</span>)[<span class="number">0</span>] + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">//Hello</span></span><br><span class="line"><span class="built_in">document</span>.write(str5.split(<span class="string">" "</span>)[<span class="number">1</span>] + <span class="string">"&lt;br /&gt;"</span>)  <span class="comment">//world!</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Web/">Web</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-java-memory" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/31/java-memory/" class="article-date">
  	<time datetime="2015-10-30T16:00:00.000Z" itemprop="datePublished">2015-10-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/31/java-memory/">Java堆内存和栈内存</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="JVM运行时数据区">JVM运行时数据区</h3><p><img src="/images/jvm.jpeg" alt="jvm"></p>
<ul>
<li>程序计数器：存放线程执行位置（main函数也是一个线程）；</li>
<li>虚拟机栈（栈内存）：<ul>
<li>生命周期和对应的线程相同，存放该线程的局部变量、对象的引用；</li>
<li>方法中可能嵌套调用别的方法，这些方法的变量以”先进后出、后进先出“的方式在栈内存中存储，所以内层方法无法访问外层方法的变量（他们在栈底），执行外层方法时内层方法的变量已经弹出栈消失了，所以外层方法也不会访问到内层方法的变量；</li>
<li>一个方法的执行过程，就是这个方法对于帧栈的入栈出栈过程；</li>
</ul>
</li>
<li>本地方法栈：<ul>
<li>作用和虚拟机栈完全相同；</li>
<li>虚拟机栈对应普通的java方法，本地方法栈对应native方法；</li>
<li>native方法是一个java调用非java代码的接口；</li>
</ul>
</li>
<li>方法区：<ul>
<li>JVM内存管理中最大一块；</li>
<li>存储常量（final修饰）、类变量/成员变量（static修饰）、类信息（每个类的访问控制符、修饰符、继承关系等）；</li>
</ul>
</li>
<li>堆内存：JVM启动时创建，存放对象本身，不存放对对象的引用（引用存在栈内存）；</li>
</ul>
<h3 id="堆内存和栈内存的区别">堆内存和栈内存的区别</h3><ul>
<li>变量存在栈内存中（无论是static类变量还是对象的变量），已经不在其作用域中的对象要及时弹出栈；</li>
<li>new出来的对象或实例，它的名称存在栈内存中，实体存在堆内存中，名称通过实体在堆内存的地址引用实体；</li>
<li>垃圾回收的目标是堆内存中失去引用的对象实体；</li>
<li>栈内存一般是用物理一级缓存实现，堆内存一般是用物理二级缓存实现，栈内存存取速度快于堆内存，代码本身存储在磁盘中，和堆栈内存无关；</li>
<li>堆主要用来存放对象的，栈主要是用来执行程序的；</li>
<li>每个线程有自己的栈内存（栈内存是线程私有的），在一个JVM实例中（一个java应用对应一个JVM实例），堆内存只有一个（堆内存是线程共享的）；</li>
<li>在java中：<ul>
<li>基本数据类型（int, short, long, byte, float, double, boolean, char），他们存储在栈内存中，函数调用它们的时候是”传值”；</li>
<li>复杂数据类型（数组, 对象, map, List, Set等），他们的实体存储在堆内存中，栈内存中只存储他们的对象的名称、通过堆内存的地址引用实体对象，函数调用它们的时候是”传引用地址”；</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-cross-domain" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/cross-domain/" class="article-date">
  	<time datetime="2015-10-29T16:00:00.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/cross-domain/">同源策略详解</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="什么是同源策略">什么是同源策略</h3><ul>
<li>同源策略是Netscape提出的一个著名的安全策略；</li>
<li>同源策略是浏览器最核心最基础的安全策略；</li>
<li>现在所有的可支持javascript的浏览器都会使用这个策略；</li>
<li>web构建在同源策略基础之上，浏览器对非同源脚本的限制措施是对同源策略的具体实现；</li>
<li>本文详细说明了同源策略的含义，用具体的例子让您深入理解同源策略，并且对跨域访问的几种常用机制作了说明；</li>
</ul>
<h3 id="同源策略的含义详解">同源策略的含义详解</h3><ul>
<li>含义一（DOM层面的同源策略）：<ul>
<li>限制了来自不同源的”document”对象或js脚本，对当前“document”对象的读取或设置某些属性；</li>
</ul>
</li>
<li>含义二（Cookie和XMLHttprequest层面的同源策略）：<ul>
<li>只有和本网页同源的脚本才会被执行，有时，AJAX已经加载不同源的脚本，但绝对不会被执行；</li>
</ul>
</li>
<li>含义三（同源策略的非绝对性）：<ul>
<li>同源策略通常允许进行跨域写操作、通常允许跨域资源嵌入、通常不允许跨域读操作；</li>
<li><code>&lt;script&gt;&lt;img&gt;&lt;iframe&gt;&lt;link&gt;&lt;video&gt;&lt;audio&gt;</code>等带有src属性的标签可以从不同的域加载和执行资源，同源策略关注的是加载js的页面所在的域，而不是页面内存放的js文件的域；</li>
</ul>
</li>
<li>含义四（其他插件的同源策略）：<ul>
<li><code>flash、java applet、silverlight、googlegears</code>等浏览器加载的第三方插件也有各自的同源策略，只是这些同源策略不属于浏览器原生的同源策略，如果有漏洞则可能被黑客利用，从而留下XSS攻击的后患；</li>
</ul>
</li>
</ul>
<h3 id="几个同源策略常见问题">几个同源策略常见问题</h3><ul>
<li><p>没有同源策略会怎样？为什么同源策略禁止跨域读操作？</p>
<ul>
<li>设想你打开了一个银行网站，又打开了一个恶意网站，如果没有同源策略，将会：</li>
<li>恶意网站包含了脚本a.js，银行网站在没有加载此脚本的情况下，就可以被此脚本操纵，操纵的后果是：</li>
<li>银行网站页面DOM结构被篡改；</li>
<li>银行网站页面DOM元素的属性和值被篡改；</li>
<li>银行页面发送的表单信息可能被恶意脚本接收到，造成用户名密码泄漏；</li>
<li>恶意网站通过自己加载的恶意js脚本获取了银行网站用户的cookie信息，并将它发送给了银行网站，随后，恶意网站就可以自动的、不受用户限制的、在用户不知情的情况下登录用户的银行网站并且伪装用户发送转账等请求；</li>
</ul>
</li>
<li><p>有了同源策略会怎样？</p>
<ul>
<li>浏览器在执行一个js脚本（或其他脚本）前，需要对这个脚本进行同源检测，如果加载这个脚本的页面和当前页面不同源，浏览器将拒绝执行此脚本；</li>
<li>注意，浏览器并不关心js脚本来自何方（不关心js脚本从哪个域名、哪个”源”加载），它只关心加载脚本的那个页面是否和当前页面同源；</li>
</ul>
</li>
<li><p>为什么<code>&lt;script&gt;&lt;img&gt;&lt;iframe&gt;&lt;link&gt;&lt;video&gt;&lt;audio&gt;</code>等带有src属性的标签可以不遵守同源策略/为什么同源策略允许跨域嵌入：</p>
<ul>
<li>现在很多大型网站的js脚本、图片等都不是存放在存储网站页面的那台服务器上，他们很可能通过CDN等方式传送到浏览器端，如果限制他们必须和网站页面同源，无异于自己束缚手脚；</li>
<li>一个网站要加载哪些脚本，由网站的编写人员说了算，他们不会故意加载恶意脚本（比如银行网站的编写人员不会将恶意网站的脚本写在银行网站中），所以只要是写在网页中的脚本，我们认为它是安全的；</li>
<li>所以，a.com的网页中可以写<code>&lt;script src=&quot;b.js&quot;&gt;&lt;/script&gt;</code>，a网站加载了b网站的脚本，这是完全可以的，不受任何限制；<br>可以这样认为，只要是页面加载的脚本，都和页面同源，无论这个脚本来自哪个”源”（source）；</li>
</ul>
</li>
<li><p>为什么同源策略允许跨域写操作？</p>
<ul>
<li>和上面一条理解相同；</li>
<li>比如提交表单这个写操作，表单不一定提交到提供网页页面的网站，很有可能提交到专门处理表单的服务器，如果不允许跨域写，将是很不灵活的；</li>
<li>表单提交到什么地方，是编写页面时程序员决定，程序员不可能故意写一个恶意域名进去，所以写操作通常是安全的；</li>
</ul>
</li>
<li><p>“同源”的具体含义?</p>
<ul>
<li>网站的同源：域名、协议、端口有一个不同就不是同源，三者均相同，这两个网站才是同源；</li>
<li>js脚本的同源：处于同源网站上的js脚本同源，否则不同源；</li>
</ul>
</li>
<li><p>浏览器沙箱机制：</p>
<ul>
<li>纵向上，浏览器的不同标签页分属不同的进程，进程间不能相互访问内存；</li>
<li>横向上，浏览器进程、渲染进程、插件进程、扩展进程相互隔离，他们可以相互通信，但要经过严格的安全检测；</li>
<li>浏览器的沙箱机制是从内存管理的角度设计的安全措施，是对同源策略的补充，进一步提升浏览器安全性；</li>
</ul>
</li>
</ul>
<h3 id="几种跨域访问策略和原理">几种跨域访问策略和原理</h3><ul>
<li><p>document.domain</p>
<ul>
<li>浏览器在检测是否同源时肯定要检测域名是否相同，它是通过<code>document.domain</code>属性来获取当前页面域名的；</li>
<li><code>document.domain</code>属性不能随便更改，但可以通过js将<code>document.domain</code>属性设置为当前<code>document.domain</code>属性值的后缀；</li>
<li>例如，假设在 <code>http://store.company.com/dir/other.html</code>中的一个脚本执行了下列语句<code>document.domain = &quot;company.com&quot;</code>，这条语句执行之后，浏览器将会成功地通过对<code>http://company.com/dir/page.html</code>的同源检测，但不能设置 <code>document.domain为othercompany.com.</code>；</li>
<li>如果需要跨域访问的网站和本网站端口、协议均相同，只有域名不同，而且需要跨域访问的网站的域名是本网站的后缀，则可以使用<code>document.domain</code>暂时更改当前document对象的域名值，实现跨域访问；</li>
<li>此种跨域访问限制颇多，空间上，只能跨域访问协议、端口相同的且域名是本网站后缀的网站，时间上，一旦原网站重新刷新页面，<code>document.domain</code>值恢复原状，不能继续跨域访问，所以这种跨域访问策略只能算是局部的、暂时的、基础域名相同的网站间的跨域访问；</li>
</ul>
</li>
<li><p>window.name</p>
<ul>
<li>浏览器一个窗口（标签页）的<code>window.name</code>属性在时间上是全局的，无论一个窗口中的页面如何跳转，<code>window.name</code>属性不变;</li>
<li>可以看到，如果在一个标签里面跳转网页的话，我们的 <code>window.name</code> 是不会改变的；</li>
<li>由于安全原因，浏览器始终会保持 <code>window.name</code> 是string类型；</li>
<li><code>window.name</code>比<code>document.domain</code>更强大，可以从任意页面获取string类型的数据；</li>
</ul>
</li>
<li><p>JSONP</p>
<ul>
<li>JSONP是一种依靠开发人员的聪明才智创造出的一种非官方跨域数据交互协议；</li>
<li>JSONP本质是利用了<code>&lt;script&gt;&lt;img&gt;&lt;iframe&gt;</code>等标签可跨预加载脚本的特性实现数据跨域传输；</li>
<li>本地的js代码将需要请求的数据包装好（如需要某天的某次航班的飞机票数据），发送到远端js，远端js依据本地js提供的信息获取相应的数据传回到本地js；</li>
<li>JSONP 的理念就是，我和服务端约定好一个函数名，当我请求文件的时候，服务端返回一段 JavaScript，这段 JavaScript 调用了我们约定好的函数，并且将数据当做参数传入；</li>
</ul>
</li>
<li><p>postMessage</p>
<ul>
<li>postMessage()方法允许来自不同源的脚本（无视协议，端口，域名的不同）采用异步方式进行有限的通信，可以实现跨文本档、多窗口、跨域消息传递；</li>
<li><code>postMessage(data,origin)</code>方法接受两个参数：</li>
<li>data:要传递的数据，html5规范中提到该参数可以是JavaScript的任意基本类型或可复制的对象，然而并不是所有浏览器都做到了这点儿，部分浏览器只能处理字符串参数，所以我们在传递参数的时候需要使用JSON.stringify()方法对对象参数序列化，在低版本IE中引用json2.js可以实现类似效果；</li>
<li>origin：字符串参数，指明目标窗口的源，协议+主机+端口号[+URL]，URL会被忽略，所以可以不写，这个参数是为了安全考虑，postMessage()方法只会将message传递给指定窗口，当然如果愿意也可以建参数设置为”*”，这样可以传递给任意窗口，如果要指定和当前窗口同源的话设置为”/“；</li>
</ul>
</li>
<li><p>对于跨域访问的说明：</p>
<ul>
<li>对于不同的浏览器、不同的业务类型、不同的安全等级、不同的实际情况，对下述内容的管制也不相同，有的允许有的禁止：跨域写、跨域嵌入、跨域读、跨域API接口访问、跨域数据存储（DB）访问、跨域授权情况；</li>
<li>其他的跨域访问机制：CORS(允许一个域上的网络应用向另一个域提交跨域AJAX请求)、OAuth(跨域授权)；</li>
<li>严格的同源策略限制所有的跨域读写、跨域访问和跨域资源嵌入，虽然保证了安全性，但是对于大型网站来说，强迫他们把一个网站的所有功能放在一个域名下，降低了效率和网站的可扩展性；</li>
<li>所以现有的同源策略、跨域访问策略是在效率和安全性之间做出的最佳权衡；</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/">Web</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Web/">Web</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
    <article id="post-java-zip" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/28/java-zip/" class="article-date">
  	<time datetime="2015-10-27T16:00:00.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/28/java-zip/">java 文件压缩和解压</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="引言">引言</h3><ul>
<li>文件压缩和解压是常见的操作</li>
<li>本文重点总结了java中文件压缩和解压的方法</li>
</ul>
<h3 id="方法一">方法一</h3><ul>
<li>zip格式，不支持中文</li>
<li>压缩：</li>
</ul>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.FileInputStream;</span></span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.FileOutputStream;</span></span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.IOException;</span></span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.util.zip.ZipEntry;</span></span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.util.zip.ZipOutputStream;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span><br><span class="line"></span>&#123;	</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main( String[] args )</span><br><span class="line">    &#123;</span><br><span class="line">    	byte[] buffer = <span class="keyword">new</span> byte[<span class="number">1024</span>];</span><br><span class="line">    	</span><br><span class="line">    	<span class="keyword">try</span>&#123;</span><br><span class="line">    		</span><br><span class="line">    		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:\\MyFile.zip"</span>);</span><br><span class="line">    		ZipOutputStream zos = <span class="keyword">new</span> ZipOutputStream(fos);</span><br><span class="line">    		ZipEntry ze= <span class="keyword">new</span> ZipEntry(<span class="string">"spy.log"</span>);</span><br><span class="line">    		zos.putNextEntry(ze);</span><br><span class="line">    		FileInputStream <span class="keyword">in</span> = <span class="keyword">new</span> FileInputStream(<span class="string">"C:\\spy.log"</span>);</span><br><span class="line">   	   </span><br><span class="line">    		int len;</span><br><span class="line">    		<span class="keyword">while</span> ((len = <span class="keyword">in</span>.read(buffer)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    			zos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">    		&#125;</span><br><span class="line"></span><br><span class="line">    		<span class="keyword">in</span>.close();</span><br><span class="line">    		zos.closeEntry();</span><br><span class="line">           </span><br><span class="line">    		<span class="comment">//remember close it</span></span><br><span class="line">    		zos.close();</span><br><span class="line">          </span><br><span class="line">    		System.out.println(<span class="string">"Done"</span>);</span><br><span class="line"></span><br><span class="line">    	&#125;<span class="keyword">catch</span>(IOException ex)&#123;</span><br><span class="line">    	   ex.printStackTrace();</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>解压</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.<span class="keyword">File</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.zip.ZipEntry;</span><br><span class="line"><span class="keyword">import</span> java.util.zip.ZipInputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> UnZip</span><br><span class="line">&#123;</span><br><span class="line">    List&lt;String&gt; fileList;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String INPUT_ZIP_FILE = <span class="string">"C:\\MyFile.zip"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String OUTPUT_FOLDER = <span class="string">"C:\\outputzip"</span>;</span><br><span class="line">		</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main( String[] args )</span><br><span class="line">    &#123;</span><br><span class="line">    	UnZip unZip = <span class="keyword">new</span> UnZip();</span><br><span class="line">    	unZip.unZipIt(INPUT_ZIP_FILE,OUTPUT_FOLDER);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Unzip it</span><br><span class="line">     * @param zipFile input zip file</span><br><span class="line">     * @param output zip file output folder</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> unZipIt(String zipFile, String outputFolder)&#123;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    	</span><br><span class="line">     <span class="keyword">try</span>&#123;</span><br><span class="line">    		</span><br><span class="line">    	<span class="comment">//create output directory is not exists</span></span><br><span class="line">    	<span class="keyword">File</span> folder = <span class="keyword">new</span> <span class="keyword">File</span>(OUTPUT_FOLDER);</span><br><span class="line">    	<span class="keyword">if</span>(!folder.exists())&#123;</span><br><span class="line">    		folder.mkdir();</span><br><span class="line">    	&#125;</span><br><span class="line">    		</span><br><span class="line">    	<span class="comment">//get the zip file content</span></span><br><span class="line">    	ZipInputStream zis = </span><br><span class="line">    		<span class="keyword">new</span> ZipInputStream(<span class="keyword">new</span> FileInputStream(zipFile));</span><br><span class="line">    	<span class="comment">//get the zipped file list entry</span></span><br><span class="line">    	ZipEntry ze = zis.getNextEntry();</span><br><span class="line">    		</span><br><span class="line">    	<span class="keyword">while</span>(ze!=<span class="keyword">null</span>)&#123;</span><br><span class="line">    			</span><br><span class="line">    	   String fileName = ze.getName();</span><br><span class="line">           <span class="keyword">File</span> newFile = <span class="keyword">new</span> <span class="keyword">File</span>(outputFolder + <span class="keyword">File</span>.separator + fileName);</span><br><span class="line">                </span><br><span class="line">           System.out.<span class="keyword">println</span>(<span class="string">"file unzip : "</span>+ newFile.getAbsoluteFile());</span><br><span class="line">                </span><br><span class="line">            <span class="comment">//create all non exists folders</span></span><br><span class="line">            <span class="comment">//else you will hit FileNotFoundException for compressed folder</span></span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">File</span>(newFile.getParent()).mkdirs();</span><br><span class="line">              </span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(newFile);             </span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = zis.<span class="keyword">read</span>(buffer)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       		fos.<span class="keyword">write</span>(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        		</span><br><span class="line">            fos.close();   </span><br><span class="line">            ze = zis.getNextEntry();</span><br><span class="line">    	&#125;</span><br><span class="line">    	</span><br><span class="line">        zis.closeEntry();</span><br><span class="line">    	zis.close();</span><br><span class="line">    		</span><br><span class="line">    	System.out.<span class="keyword">println</span>(<span class="string">"Done"</span>);</span><br><span class="line">    		</span><br><span class="line">    &#125;<span class="keyword">catch</span>(IOException ex)&#123;</span><br><span class="line">       ex.printStackTrace(); </span><br><span class="line">    &#125;</span><br><span class="line">   &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法二">方法二</h3><ul>
<li>GBK编码，支持中文，zip格式</li>
<li>压缩</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.<span class="keyword">File</span>; </span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream; </span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream; </span><br><span class="line"><span class="keyword">import</span> java.io.IOException; </span><br><span class="line"><span class="keyword">import</span> java.io.InputStream; </span><br><span class="line"><span class="keyword">import</span> java.nio.charset.Charset; </span><br><span class="line"><span class="keyword">import</span> java.util.zip.ZipEntry; </span><br><span class="line"><span class="keyword">import</span> java.util.zip.ZipOutputStream; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> zip &#123; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String args[]) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">      <span class="keyword">File</span> inFile = <span class="keyword">new</span> <span class="keyword">File</span>(<span class="string">"D:\\test.txt"</span>); </span><br><span class="line">      ZipOutputStream zos = <span class="keyword">new</span> ZipOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"D:\\test.zip"</span>), Charset.forName(<span class="string">"GBK"</span>));</span><br><span class="line">      </span><br><span class="line">      zos.setComment(<span class="string">"ziped by Ming Cheng."</span>); </span><br><span class="line">      zipFile(inFile, zos, <span class="string">""</span>); </span><br><span class="line">      zos.close(); </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> zipFile(<span class="keyword">File</span> inFile, ZipOutputStream zos, String dir) <span class="keyword">throws</span> IOException &#123; </span><br><span class="line">        <span class="keyword">if</span> (inFile.isDirectory()) &#123; </span><br><span class="line">            <span class="keyword">File</span>[] files = inFile.listFiles(); </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">File</span> <span class="keyword">file</span>:files) </span><br><span class="line">                zipFile(<span class="keyword">file</span>, zos, dir + <span class="string">"\\"</span> + inFile.getName()); </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">            String entryName = <span class="keyword">null</span>; </span><br><span class="line">            <span class="keyword">if</span> (!<span class="string">""</span>.equals(dir)) </span><br><span class="line">                entryName = dir + <span class="string">"\\"</span> + inFile.getName(); </span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                entryName = inFile.getName(); </span><br><span class="line">                </span><br><span class="line">            ZipEntry entry = <span class="keyword">new</span> ZipEntry(entryName); </span><br><span class="line">            zos.putNextEntry(entry); </span><br><span class="line">            </span><br><span class="line">            InputStream is = <span class="keyword">new</span> FileInputStream(inFile); </span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">0</span>; </span><br><span class="line">            <span class="keyword">while</span> ((len = is.<span class="keyword">read</span>()) != -<span class="number">1</span>) </span><br><span class="line">                zos.<span class="keyword">write</span>(len); </span><br><span class="line">                </span><br><span class="line">            is.close(); </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>解压</li>
</ul>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.File;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.FileInputStream;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.FileOutputStream;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.IOException;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.InputStream;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.io.OutputStream;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.nio.charset.Charset;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.util.zip.ZipEntry;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.util.zip.ZipFile;</span> </span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> java.util.zip.ZipInputStream;</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Unzip</span> </span>&#123; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String args[]) throws IOException &#123; </span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"D:\\test.zip"</span>);</span><br><span class="line">        ZipFile zipFile = <span class="keyword">new</span> ZipFile(file, Charset.forName(<span class="string">"GBK"</span>));</span><br><span class="line"></span><br><span class="line">        ZipInputStream zipInputStream = <span class="keyword">new</span> ZipInputStream(<span class="keyword">new</span> FileInputStream(file), Charset.forName(<span class="string">"GBK"</span>)); </span><br><span class="line">        unpack(zipFile, zipInputStream); </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> unpack(ZipFile zipFile, ZipInputStream zipInputStream) throws IOException &#123; </span><br><span class="line"></span><br><span class="line">        ZipEntry zipEntry = <span class="literal">null</span>; </span><br><span class="line">        <span class="keyword">while</span> ((zipEntry = zipInputStream.getNextEntry()) != <span class="literal">null</span>) &#123; </span><br><span class="line">            String fileName = zipEntry.getName(); </span><br><span class="line">            File temp = <span class="keyword">new</span> File(<span class="string">"D:\\Test\\"</span> + fileName); </span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (! temp.getParentFile().exists()) </span><br><span class="line">                temp.getParentFile().mkdirs(); </span><br><span class="line"></span><br><span class="line">            OutputStream os = <span class="keyword">new</span> FileOutputStream(temp); </span><br><span class="line">            InputStream <span class="keyword">is</span> = zipFile.getInputStream(zipEntry); </span><br><span class="line"></span><br><span class="line">            int len = <span class="number">0</span>; </span><br><span class="line">            System.out.println(zipEntry.getName()); </span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> ((len = <span class="keyword">is</span>.read()) != -<span class="number">1</span>) </span><br><span class="line">                os.write(len); </span><br><span class="line"></span><br><span class="line">            os.close(); </span><br><span class="line">            <span class="keyword">is</span>.close(); </span><br><span class="line">        &#125; </span><br><span class="line">        zipInputStream.close(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
  
  <script>
  (function() {
    var cx = '017806109166577290598:caowtb3biqa';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>



</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Eric Chang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
	
	<a rel="license" href="http://creativecommons.org/licenses/by/3.0/cn/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/cn/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by/3.0/cn/">知识共享署名 3.0 中国大陆许可协议</a>进行许可。
	
	<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','1BK1VZMDEA-ktxiBz_9B');
</script>

<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1258423514'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1258423514%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
          
	
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>